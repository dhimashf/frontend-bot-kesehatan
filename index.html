<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Asisten Kesejahteraan Diri</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Mengatur font dan memastikan layout penuh */
        html, body {
            font-family: 'Poppins', sans-serif;
            background-color: #f1f5f9; /* slate-100 */
        }
        /* Style untuk scrollbar yang rapi */
        #chat-output {
            scroll-behavior: smooth;
        }
        /* Custom spinner */
        .spinner {
            border: 4px solid rgba(0, 0, 0, 0.1);
            border-top: 4px solid #10b981; /* emerald-500 */
            border-radius: 50%;
            width: 24px;
            height: 24px;
            animation: spin 1s linear infinite;
            margin-right: 8px;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="bg-slate-100">

    <div class="flex h-screen">
        <!-- Sidebar -->
        <aside class="w-64 bg-emerald-800 text-white flex flex-col p-4">
            <div class="text-center mb-10">
                <div class="w-24 h-24 rounded-full bg-emerald-600 mx-auto flex items-center justify-center text-4xl font-bold mb-2 border-4 border-emerald-500">
                    <span id="user-initial"></span>
                </div>
                <h2 id="user-username" class="text-xl font-semibold"></h2>
            </div>
            <nav class="flex-grow">
            <a href="/profile" class="block py-3 px-4 rounded-lg hover:bg-emerald-700 transition duration-150 mb-2">

                    Profil & Riwayat
                </a>
                <a href="/" class="block py-3 px-4 rounded-lg bg-emerald-700 font-bold transition duration-150">
                    Kuesioner
                </a>
            </nav>
            <div class="mt-auto">
                <button id="logout-button" class="block w-full text-center py-3 px-4 rounded bg-red-600 hover:bg-red-700 transition duration-150">
                    Keluar
                </button>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="flex-1 flex flex-col p-4">
            <div id="app-container" class="bg-white rounded-xl shadow-lg w-full max-w-3xl mx-auto flex flex-col flex-grow overflow-hidden">
                <header class="p-4 bg-gray-50 border-b border-gray-200 flex justify-between items-center gap-4 rounded-t-xl">
                    <h1 class="text-xl font-bold text-emerald-800">Asisten Kesejahteraan Diri</h1>
                    <a href="#" id="reset-button" class="text-sm bg-gray-200 hover:bg-gray-300 text-gray-700 px-3 py-1 rounded-full transition duration-150 flex items-center no-underline">
                        Ulang Kuesioner
                    </a>
                </header>
                <div id="chat-container" class="flex-grow overflow-y-auto p-4 space-y-4">
                    <div id="initial-screen" class="text-center p-8 flex flex-col justify-center h-full">
                        <h2 class="text-2xl font-semibold mb-4 text-emerald-800">Selamat Datang!</h2>
                        <p class="text-slate-600 mb-6 max-w-md mx-auto">Untuk memberikan arahan terbaik, kami akan memulai dengan kuesioner singkat untuk memahami kondisi kesejahteraan Anda.</p>
                        <button id="start-who5" class="bg-emerald-500 text-white font-bold py-3 px-6 rounded-lg shadow-md hover:bg-emerald-600 transition duration-150 self-center">
                            Mulai Kuesioner
                        </button>
                    </div>
                    <div id="chat-output" class="hidden h-full overflow-y-auto space-y-4"></div>
                </div>
                <p id="status-message" class="text-sm text-gray-500 p-2 text-center hidden bg-gray-100"></p>
                <footer id="quiz-footer" class="p-4 bg-gray-100 rounded-b-xl shadow-inner flex justify-center flex-wrap"></footer>
            </div>
        </main>
    </div>

    <script src="script.js" defer></script>
</body>
</html>